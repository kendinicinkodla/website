{% extends "layout.html" %}

{% block title %}{{ this.name }}{% endblock %}

{% block body %}
<div class="container">
  <section class="section">
    <div class="card-image">
      <figure class="is-1by1">
        <img src="{{ ('/static/people/' + this._slug + '.jpg')|url }}" alt="{{ this.name }}">
      </figure>
    </div>

    <div class="card-content">
      <div class="media">
        <div class="media-content has-text-centered">
          <h2 class="title">{{ this.name }}</h2>
        </div>
      </div>
    </div>
  </section>

  {% set authored = site.query('/kutuphane').filter(F.authors.contains(this._slug)) %}
  {% if authored %}
  <section class="section">
    <h3 class="subtitle">{{ bag('translate', this.alt, 'authored') }}</h3>

    {% from "macros/material.html" import render_material_list %}
    {% for material in authored %}
      {{ render_material_list(material, this.alt) }}
    {% endfor %}
  </section>
  {% endif %}

  {% set instructed = site.query('/atolyeler').filter(F.instructors.contains(this._slug)).order_by('date') %}
  {% if instructed %}
  <section class="section">
    <h3 class="subtitle">{{ bag('translate', this.alt, 'instructed') }}</h3>

    {% from "macros/workshop.html" import render_workshop_list %}
    {% for workshop in instructed %}
      {{ render_workshop_list(workshop, this.alt) }}
    {% endfor %}
  </section>
  {% endif %}
</div>
{% endblock %}
