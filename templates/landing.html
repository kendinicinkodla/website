{% extends "layout.html" %}
{% block title %}{{ this.title }}{% endblock %}
{% block extra_head %}
  <link rel="stylesheet" href="{{ '/static/bulma-carousel.min.css'|url }}">
{% endblock %}
{% block body %}
  <section class="hero">
    {% from "macros/banner.html" import render_banner %}
    <div class="carousel carousel-animated carousel-animate-slide">
      <div class="carousel-container">
        {% for banner in bag('banner.banners') %}
          {{ render_banner(banner, this.alt) }}
        {% endfor %}
      </div>
      <div class="carousel-navigation">
        <div class="carousel-nav-left">
          <i class="fa fa-chevron-left" aria-hidden="true"></i>
        </div>
        <div class="carousel-nav-right">
          <i class="fa fa-chevron-right" aria-hidden="true"></i>
        </div>
      </div>
    </div>
    <script src="{{ '/static/bulma-carousel.min.js'|url }}"></script>
    <script>
      document.addEventListener('DOMContentLoaded', function(){
        var carousels = bulmaCarousel.attach();
      }, false);
    </script>
  </section>

  <section class="section">
    <h2 class="subtitle">{{ bag('translate', this.alt, 'upcoming-workshops') }}</h2>
    {% from "macros/workshop.html" import render_workshop_card %}
    <div class="columns">
      {% for child in this.children %}
        {% if child._model == 'workshops' %}
          {% for workshop in child.children %}
      <div class="column">
        {{ render_workshop_card(workshop, this.alt) }}
      </div>
        {% endfor %}
      {% endif %}
    {% endfor %}
    </div>
    <script src="{{ '/static/bulma-modal.js'|url }}"></script>
  </section>

  {% if this.alt in ['tr'] %}
    {% from "macros/groupsio.html" import render_groupsio_form %}
    {{ render_groupsio_form(this) }}
  {% endif %}
{% endblock %}
